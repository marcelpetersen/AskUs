<ion-view view-title="{{::user.name}}" id="user-page">
  <ion-content class="page-content" overflow-scroll="true">

   <ion-refresher
    pulling-text="Pull to refresh..."
    on-refresh="doRefresh()" 
    spinner= "none"
    refreshing-icon="ion-load-c">
  </ion-refresher>

      <div class="user-info">
        <div class="background-picture"></div>
        <div class="user-picture" ng-style="{'background-image':'url({{::user.picture}})'}"></div>
        <!-- <img ng-src="{{::user.picture}}" class='user-picture'> -->
        <h2>{{::user.name}}</h2>
      </div>

     <section class="posts-list-container">

     <div class="loading">
      <i class="ion ion-load-c loading-icon"></i>
     </div>

     <div class="no-post" ng-show="noPost">
       <p>No post yet</p>
     </div>
      <div class="list card" ng-repeat="post in posts | orderObjectBy:'time':true">

        <div class="item item-header">
          <h2>{{::post.title}}</h2>

         <!-- <a class="user-picture" ng-style="{'background-image':'url({{::post.userPicture}})'}" href="#/tab/user/{{::post.userName}}" on-touch="userPage(post.userId,post.userName,post.userPicture)"></a> -->
          <!-- <h2>{{::post.userName}}</h2> -->
          <p>{{::post.time | date : 'MMM d, y HH:mm:ss'}}</p>
          <!-- Test Link -->
          <a href="#/tab/post/1234" class="item post-link">
            <i class="icon ion-ios-arrow-right"></i>
          </a>
        </div>

        <div class="item item-body">

          <div class="item item-image">
            <div class="picture picture-A" ng-style="{'background-image':'url({{::post.pictureA}})'}" ng-click="goToSlide(0); modalPictureUpdate(post)"></div>
            <div class="picture picture-B" ng-style="{'background-image':'url({{::post.pictureB}})'}" ng-click="goToSlide(1); modalPictureUpdate(post)"></div>
          </div>

          <h2>{{::post.title}}</h2>
          <p>
            {{::post.description}}
          </p>
          <p>
            <a href="#" class="subdued">1 Like</a>
            <a href="#" class="subdued">5 Comments</a>
          </p>
        </div>

      </div>
    </section>

    <script id="image-modal.html" type="text/ng-template">
      <div class="dash-modal modal image-modal transparent" ng-click="closeModal()">
        <ion-slide-box on-slide-changed="slideChanged(index)" show-pager="true">
          <ion-slide ng-repeat="oImage in aImages">
            <!-- **** Before zoom **** -->
            <!-- <img ng-src="{{oImage.src}}" class="fullscreen-image" /> -->
            <!-- <p class="info">{{oImage.msg}}</p> -->
            <!-- **** End Before zoom **** -->
            <ion-scroll zooming="true" direction="xy" style="width: 100%; height: 100%" min-zoom="1">
              <!-- <div style="width: 5000px; height: 5000px; background: url('{{oImage.src}}') repeat"></div> -->
              <img ng-src="{{oImage.src}}" class="fullscreen-image"/>
              <!-- <p class="info">{{oImage.msg}}</p> -->
            </ion-scroll>

          </ion-slide>
        </ion-slide-box>
        <i class="icon ion-close-circled close-modal"></i>
      </div>
    </script>
  </ion-content>
</ion-view>
